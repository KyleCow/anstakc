\documentclass{article}


\input{preamble.tex}

\title{Analytic Stacks}
\author{People}
\date{January 2026}

\begin{document}

\maketitle
\pagebreak

\setcounter{section}{1}
\setcounter{subsection}{3}
\subsection{Replete and locally weakly contractible topoi}
Throuought this section the word "topos" refers to the category of sheaves on some site 
\begin{definition}[Replete Topos]
    A topos $X$ is \textit{replete} if epimorphisms are closed under sequential limits, that is for a functor $F:\N^{op} \to X$ with epimorphic transition maps $F_{n+1}\twoheadrightarrow F_n$, then the map $\lim F \to F_n$ is epic for each $n$
\end{definition}
\begin{lemma}
    \begin{enumerate}
        \item $X$ is replete then for $x \in X$, $X/x$ is replete
        \item $X$ is replete if and only if there is a surjection $x \to 1$ and $X/x$ is replete
    \end{enumerate}
\end{lemma}
\begin{proof}
    To prove $(1)$ we observe that the canonical functor $X/x \to X$ preserves sequential limits and epimorphisms so in $X/x$ an epi sequential limit corresponds to an epi sequential limit in $X$ and the maps $\lim F \to F_n$ are epi in $X$ and hense epi in $X /x$

    To prove $(2)$ we note that $(1)$ proves the forward direction, then for the other direction the map $g\colon x \to 1$ induced a base change map $g^*\colon X \cong X/1 \to X/x$ defined by $t \mapsto (t \times x \to x)$ which preserves limits and epimorphisms so the same argument at $(1)$ applies
\end{proof}
\begin{proposition}[Exactness in replete topoi]
    \begin{enumerate}
        \item For $X$ a replete topos and $H\colon F \to G$ a map in $\operatorname{Fun}(\N^{op},X)$ where the components $h_i\colon F_i \to G_i$ and the induced maps $(f_{i+1},h_{i+1})\colon F_{i+1}\to F_i \times_{G_i}G_{i+1}$ are epimorphisms for all $i$. Then $\lim F \to \lim G$ is an epimorphism\footnote{\color{red}can this be reduced to $F_0 \to G_0$ surjective and the product thing?\color[HTML]{756244}}
        \item Countable products are exact in a replete topos
        \item If $X$ is a replete topos then the functor of $N^{op}$-indexed limits has cohomological dimension $1$
        \item If $X$ is a replete topos and $F:\N^{op} \to \mathbf{Ab}(X)$ is a diagram with $F_{n+1} \to F_n$ surjective for every $n$ then $\lim F_n \cong R\lim F_n$
    \end{enumerate}
\end{proposition}
\begin{proof}
    To prove $(1)$ Take any $A \in X$ and any map $s\colon A \to \lim G$ we want to find an epimorphism $A' \to A$ that lifts $s$. To do so we construct a tower of epimorphisms \[\dots \to A_i \to A_{i-1} \to \dots \to A_0 \to A\]
    Such that there are maps $t_n\colon A_i \to F_i$ that lift the maps $s_n\colon A \to G_i$. We can construct one as follows, due to the fact that the pullback of an epimorphism is an epimorphism in a topos let $X_0 = X \times_{G_0}F_0$ we get an epimorphism $X_0 \to X$ that lifts $s_0$, we can continue inductively with $X_{i+1}=X_{i} \times_{F_i \times_{G_i} \times G_{i+1}} F_{i+1}$. Diagramatically 
\[\begin{tikzcd}
	{A_{i+1}} & {F_{i+1}} \\
	{A_i} & {F_i \times_{G_i} G_{i+1}} & {F_i} \\
	A & {G_{i+1}} & {G_i}
	\arrow["{t_{i+1}}", from=1-1, to=1-2]
	\arrow[two heads, from=1-1, to=2-1]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
	\arrow["{(f_{i+1},h_{i+1})}", two heads, from=1-2, to=2-2]
	\arrow["{(t_i, s_i \circ\pi_i)}", from=2-1, to=2-2]
	\arrow["{\pi_i}", two heads, from=2-1, to=3-1]
	\arrow[from=2-2, to=2-3]
	\arrow[two heads, from=2-2, to=3-2]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=2-2, to=3-3]
	\arrow["{h_i}", two heads, from=2-3, to=3-3]
	\arrow["{s_{i+1}}", from=3-1, to=3-2]
	\arrow["{g_{i+1}}", from=3-2, to=3-3]
\end{tikzcd}\]
Since $X$ is replete taking the limit over this tower gives an epimorphism $\lim A_i \to A$ so that $s$ factors through $h$, that is 
\[\begin{tikzcd}
	{\lim A_i} & {\lim F} \\
	A & {\lim G}
	\arrow[from=1-1, to=1-2]
	\arrow[two heads, from=1-1, to=2-1]
	\arrow[from=1-2, to=2-2]
	\arrow[from=2-1, to=2-2]
\end{tikzcd}\]
Taking then $A=\lim G$ and $s=id$ proves the claim
\newline
This allows us to prove $(2)$ quite simply as products are already left exact so we just need to check that for epimorphisms $h_n: F_n \to G_n$ we have $\prod_n F_n \to \prod_n G_n$ is epi. This follows from $(1)$ by taking $\prod_n F_n = \lim \prod_{i < n} F_i$ and noting that finite products preserve epis already and the map \[\prod_{i < n+1} F_i \to \prod_{i < n} F_i \times _{\prod_{i < n}G_i}\prod_{i < n+1}G_i\] Can be checked to be epimorphic using the internal language of the topos as the fiber product is just $\{((g_0,...,g_n),(f_0,...,f_{n-1}))\vert g_i=h_if_i\}$ so surjectivity is clear
\newline
To prove $(3)$ we've already shown that the product agrees with the derived product so for any limit for a diagram with $t_n:f_{n+1} \to f_n$ we can write it as the limit of 
\[
\prod_n F_n \to^{t-id} \prod_n F_n
\]
Hense giving an exact triangle
\[
R \lim F_n \to \prod_n F_n \to \prod_n F_n \to
\]
and so as the products are concentrated in degree $0$, $R\lim F_n$ is concentrated in degrees $0,1$
\newline
To prove $(4)$ then we use the same exact triangle from before
\[
R \lim F_n \to \prod_n F_n \to \prod_n F_n \to
\]
It suffices to show that this $t-id$ is surjective as then $R\lim F_n$ will be concentrated in degree $0$. For the sake of making this easier to read we suggestively define $F_n = G_n$ and $t-id$ is assumed to be a map 
\[
\prod_n F_n \to \prod_n G_n
\]
So maps $F \to G$ are defined by this, and maps $F\to F,G \to G$ are understood to be identities/projections .The surjectivity of $t$ means that the map induced by $t-id$
\[
\prod_{i \leq n+1} F_i \to \prod_{i \leq n} G_i
\]
is surjective as we can show this inductively using the internal language. Additionally as we did before the induced map 
\[
\prod_{i \leq n+2} F_i \to \prod_{i \leq n+1}G_i\times_{\prod_{i \leq n}G_i}\prod_{i \leq n+1}F_i
\]
Is also surjective, this means by $(1)$ the whole map is surjective
\end{proof}
\begin{definition}
    An object in $a$ a topos is called
    \begin{enumerate}
        \item Compact if the `underlying geometric structure' is compact, ie if the geometric morphism $X/a \to \operatorname{Sh}(*)=\mathbf{Set}$ is proper
        \item Stable if for all morphisms $Y \to X$ with $Y$ compact, the domain of the kernel pair $R \rightrightarrows Y$ of $f$ is also compact
        \item Coherent if it is compact and stable
    \end{enumerate}
\end{definition}
\color{red}I dont understand this notion so this section is hard\color[HTML]{756244}
\begin{definition}[Locally Weakly Contractible Topos]
    An object $F$ in a topos $X$ is called weakly contractible if every epimorphism $G \twoheadrightarrow F$ has a section. We say that $X$ is \textit{locally weakly contractible} if each $a \in X$ admits an epimorphism $\bigsqcup Y_i \twoheadrightarrow X$ with $Y_i$ coherent and weakly contractible
\end{definition}
% what are postnikov towers
\begin{proposition}
    Let $X$ be a locally weakly contractible topos. Then
    \begin{enumerate}
        \item X is replete
        \item The derived category $D(X,\Z)$ is compactly generated
        \item Postnikov towers converge in the associated hypercomplete $\infty$-topos
    \end{enumerate}
\end{proposition}

\begin{proposition}
    If $X$ is a replete topos, then $D(X)$ is left-complete
\end{proposition}
\begin{proposition}
    Let $f\colon A_\bullet \to A$ by a hyper cover in a replete topos $X$, then
    \begin{enumerate}
        \item The adjunction $id \to f_* f^*$ is an equivalence on $D(A)$
        \item The adjunction $f_! f^* \to id$ is an eqivalence on $D(X)$
        \item $f^*$ induces an equivalence $D(X) \cong D_{cart}(X_\bullet)\subset D(X_\bullet)$ where $D(X_\bullet)$ is the derived category of the simplicial topos defined by $X_\bullet$ and $D_{cart}(X_\bullet)$ is the full subcategory spanned by cartesian complexes 
    \end{enumerate}
\end{proposition}


\section{Lawvere Theories on Topoi}
\begin{definition}
    A \textit{Lawvere Theory} is a category $C$ with finite products and a distinguished element $x$ so that each object is isomorphic to a finite power of $x$, ie $\forall y, y \cong x^{\times n}$
\end{definition}
\begin{definition}
    For a Laevere theory $C$, and a category with products $S$, \textit{a model in} $\mathit{S}$ is a product preserving functor $C \to S$. We define the category of such models as a full subcategory of the category of functors $C \to S$ and denote it
    \[
    \operatorname{Fun}^\times(C, S)
    \]
\end{definition}
\begin{example}
    \begin{enumerate}
        \item On the category of finitely generated free groups we have that $F(n) \sqcup F(m) \cong F(m+n)$ so the opposite category of finitely generated free groups is a Lawvere theory with distinguished object $\Z$. A functor $F:\mathbf{FiniteFreeGroups}^{op} \to \mathbf{Set}$ then picks out a specific set $F(\Z)$ along with a multiplication map $F(\Z)\times F(\Z) \to F(\Z)$ induced by the map $1 \mapsto ab$ that satisfies the group laws by the pushforward of these laws in $\mathbf{FiniteFreeGroups}^{op}$
        \item Similarly a ring is just a model in sets of the Lawvere theory of integer polynomial rings
        \item Additionally for a field $k$ a $k$ algebra is a model in sets of the $k$-polynomial rings
    \end{enumerate}
\end{example}
\begin{lemma}
    For $C$ a Lawvere theory. Suppose in addition it's coextensive, ie for any $m,n$ the diagram
    \[
    \begin{tikzcd}
x^0           & x^n \arrow[l]                      \\
x^m \arrow[u] & x^m \times x^n \arrow[l] \arrow[u]
\end{tikzcd}
    \]
    Is a pushout square.\footnote{I'm fairly sure you can assume this is the case always as x^0 doesn't affect the models for the theory and hense you can formally give it this property without having to worry}
    \newline
    For any topos $X=\operatorname{Sh}(S)$ the following categories are equivalent 
    \begin{enumerate}
        \item $\operatorname{Fun}^\times(C,X)$
        \item $\operatorname{Sh}(S,\operatorname{Fun}^\times(C,\mathbf{Set}))$
    \end{enumerate}
\end{lemma}
\begin{proof}
    First we put a topology on $C^{op}$ so that everything here can be considered as sheaves. Define the topology $\tau_G$ on $C^{op}$ the covers of $A$ are finite families of morphisms $\{A_\lambda \leftarrow A\}_{\lil}$ so that the induced map 
    \[
    A \to \prod_\Lambda A_\lambda A_\lambda
    \]
    Is an isomorphism, this is known as the Gaeta toplogy on $C^{op}$. Sheaves for this topology are thus functors $F \colon C \to \mathbf{Set}$ so that for any finite family $\{A_\lambda\}_\lil$ we have the equaliser
    \[
F(A) \to \prod_{\lil}F(A_\lambda) \rightrightarrows \prod_{\mu \lil} F(A_\mu \sqcup_A A_\lambda)
    \]
Where $A \cong \prod_\lil A_\lambda$. If each $F(A_\mu \sqcup_A A_\lambda)$ is terminal then we're ready as this is an equiliser if and only if $F(\prod_\lil A_\lambda) \cong \prod_{\lil}F(A_\lambda)$. Note that $x^0$ admits the empty cover so must map to a terminal object. So inductively it suffices to show that $x^0 \cong \operatorname{colim}(x^n \leftarrow x^n \times x^m \rightarrow x^m)$, this is true by assumptopm\footnote{I'm not 100\% on if this needs to be assumed, i can concieve of a world where $x$ is a cone over the diagram but there is no morphism $x^0 \to x$ but I haven't written it down}

From here the proof is clear as the product of sites is well behaved so 
\begin{align*}
    \operatorname{Fun}^\times(C,X) &\cong \operatorname{Sh}(C^{op},\operatorname{Sh}(S,\mathbf{Set})) \\
    &\cong \operatorname{Sh}(C^{op} \times S,\mathbf{Set}) \\
    &\cong \operatorname{Sh}(S,\operatorname{Sh}(C^{op}))
    &\cong \operatorname{Sh}(S,\operatorname{Fun}^\times(C,\mathbf{Set}))
\end{align*}
\end{proof}
This allows us to define algebraic structures internal to a topos
\begin{lemma}
    As written for all the examples
\end{lemma}
\begin{proof}
    Any object $F$ of $(4)$ gives an object of $(3)$ by taking as an object 
    \[
    F(\operatorname{Free}(1))
    \]
    and for an $n$-ary operation $(\cdot,...,\cdot)$, the morphism induced by 
    \[
    \operatorname{Free}(1) \to \operatorname{Free}(n)
    \] 
    that is in turn induced by by 
    \[
    1 \mapsto (1,...,n)
    \]
    The diagrams are satisfied as they hold in the Lawvere Theory. In addition any object of the Lawvere theory embeds in $(3)$ as the image of the hom functor under this association and so $(3)$ embeds in $(4)$ by the restricted internal hom functor giving an equivalence. Note these embeddings are mutual inverses as the double compositions preserve the fundamental object and the maps on this object are precicely the images of the maps on the free objects by pulling back the map 
    \[
    \hom(\underline{\operatorname{Free}(n)},M^k) \to \hom(\underline{\operatorname{Free}(m)},M^j)
    \]
    to a map 
    \[
    \hom(\underline{\operatorname{Free}(nk)},M) \to \hom(\underline{\operatorname{Free}(mj)},M)
    \]
    Which by yoneda is just the data of some map in our original category so double application is an isomorphism on $(3)$, and double application on $(4)$ is precicely the yoneda mapping so an isomorphism
    \newline
    $(3)$ is equivalent to $(2)$ by pushing forward and pulling back the structure morphisms through $\hom$.
    \newline
    $(4)$ is equivalent to $(1)$ by lemma
\end{proof}
\end{document}
